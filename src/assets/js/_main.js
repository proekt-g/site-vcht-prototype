"use strict";document.onreadystatechange=function(){"interactive"===document.readyState&&$(window).width()<=700&&$(".main__content-head-ui").appendTo(".main__content-timer")},window.addEventListener("load",function(){function t(){var a=[];$(".content").fadeOut(100),$(".crumbs__crumb--active").each(function(e,n){$(".content").each(function(e,t){$(t).data("name")===$(n).data("tag-name")&&a.push(t)})}),console.log(a),$(a).length?$(a).fadeIn(100):$(".content").fadeIn(100)}($("#program-events-form").on("input submit",function(e){e.preventDefault(),function(e,t){try{history.replaceState(null,null,"#")}catch(e){console.log(e)}$.ajax({url:t,type:"POST",dataType:"html",data:$("#"+e).serialize(),success:function(e){var t=$.parseJSON(e);console.log(t)},error:function(e){alert("Ошибка. Данные не отправлены.")}})}("program-events-form","test.php")}),$("button.menu__desktop-element").on("click",function(){$(this).toggleClass("menu__desktop-element--open"),$(".header-modal__nav").fadeToggle(400)}),$(".language").on("click",function(){$(this).toggleClass("language--open"),$(".header-modal__language").fadeToggle(400)}),$(".header__acount").on("click",function(){$(this).toggleClass("header__acount--open"),$(".header-modal__acount").fadeToggle(400)}),$(window).width()<=1279&&$(".menu").on("click",function(){var e,t;e=parseInt(document.documentElement.clientWidth),t=parseInt(window.innerWidth)-e,$("body").css({"padding-right":"".concat(t,"px")}),$("body").toggleClass("block"),$(this).toggleClass("menu--open"),$(this).hasClass("menu--open")&&($(".language").removeClass("language--open"),$(".header-modal__language").fadeOut(100))}),$(".filter__switch-text").on("click",function(){$(this).parent().toggleClass("filter__switch--active"),$(this).next().slideToggle(400)}),$(".filter__switch-modal-label").on("click",function(e){$(this).parents(".filter__switch").children(".filter__switch-text").text($(e.target).text()),$(this).parents(".filter__switch-modal").toggle(0),$(this).parents(".filter__switch").toggleClass("filter__switch--active")}),$(".crumbs__crumb").on("click",function(e){$(e.target).parents(".filter-top").length&&($(this).toggleClass("crumbs__crumb--active"),t()),$(e.target).parents(".crumbs__crumb").toggleClass("crumbs__crumb--active"),0===$(e.target).parents(".crumbs").children(".crumbs__crumb--active").length?$(e.target).parents(".crumbs").children(".crumbs__clear").removeClass("crumbs__clear--active"):$(e.target).parents(".crumbs").children(".crumbs__clear").addClass("crumbs__clear--active")}),$(".crumbs__clear").on("click",function(){$(this).parents(".crumbs").children(".crumbs__crumb").removeClass("crumbs__crumb--active"),$(this).removeClass("crumbs__clear--active"),t()}),$(".filter-link").on("click",function(){$(".filter-link--active").removeClass("filter-link--active"),$(this).addClass("filter-link--active")}),$("body").on("click",function(e){var t=$(e.target).hasClass("share")&&$(e.target)||$(e.target).parents(".share").length&&$($(e.target).parents(".share")[0])||null;t&&t.find(".information-share").toggleClass("information-share--active"),$(e.target).hasClass("avatars__more")&&$(e.target)&&$(e.target).toggleClass("avatars__more--active");var n=$(e.target).hasClass("avatars__more-element")&&$(e.target)||$(e.target).parents(".avatars__more-element").length&&$($(e.target).parents(".avatars__more-element")[0])||null;n&&(n.toggleClass("avatars__more-element--active"),n.find(".avatars__more-text").slideToggle(400))}),$(".content__more").on("click",function(){$(".card--hidden").removeClass("card--hidden")}),$(".main__content-more").on("click",function(){if($(".main__content-more").toggleClass("main__content-more--open"),$(".main__content-text--active").length)$(".main__content-text").toggleClass("main__content-text--active"),$(".main__content-text").css("height",$(".main__content-text").data("text-height")),$(".main__content-more-text").text($(".main__content-more-text").data("switch-text-end"));else{$(".main__content-text").toggleClass("main__content-text--active");var e=$(".main__content-text"),t=e.height(),n=e.css("height","auto").height();e.height(t).animate({height:n},200),$(".main__content-more-text").text($(".main__content-more-text").data("switch-text-start"))}}),$(window).width()<=1279&&$(".header-modal__nav-element").appendTo(".menu__desktop"),$(window).width()<=700&&$(".menu__desktop").prepend($(".header-modal__acount")),$(window).width()<=700&&$(".header__button").appendTo(".menu__desktop"),$(window).width()<=900&&$(".card").each(function(e,t){$(t).find(".card__head-crumbs").prepend('<div class="card__head-info">'.concat($(t).find(".card__footer .card__day").text(),"</div>"))}),document.querySelector(".main__recommendation-block")&&1100<$(window).width()&&OverlayScrollbars(document.querySelectorAll(".main__recommendation-block"),{paddingAbsolute:!0}),document.getElementById("timer"))&&function(e,i){var c=document.getElementById(e),s=c.querySelector("#timer-days"),l=c.querySelector("#timer-hours"),m=c.querySelector("#timer-minutes"),d=c.querySelector("#timer-seconds");function t(){var e,t,n,a,r,o=(e=i,t=Date.parse(e)-Date.parse(new Date),n=Math.floor(t/1e3%60),a=Math.floor(t/1e3/60%60),r=Math.floor(t/36e5%24),{total:t,days:Math.floor(t/864e5),hours:r,minutes:a,seconds:n});s.innerHTML=o.days,l.innerHTML=("0"+o.hours).slice(-2),m.innerHTML=("0"+o.minutes).slice(-2),d.innerHTML=("0"+o.seconds).slice(-2),o.total<=0&&(c.classList.add("main__content-start--finish"),clearInterval(_))}t();var _=setInterval(t,1e3)}("timer","\n            ".concat($("#timer").data("timer-month")," \n            ").concat($("#timer").data("timer-day")," \n            ").concat($("#timer").data("timer-year")," \n            ").concat($("#timer").data("timer-hours"),":\n            ").concat($("#timer").data("timer-minutes"),":\n            ").concat($("#timer").data("timer-seconds")," GMT+0300"));$(window).width()<=700&&document.querySelector(".swiper-container")&&new Swiper(".swiper-container",{slidesPerView:"auto",spaceBetween:8,pagination:{el:".swiper-pagination",type:"bullets"}}),$(window).width()<=1100&&$(".main__recommendation-block").appendTo(".recommendation")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwiJCIsIndpbmRvdyIsIndpZHRoIiwiYXBwZW5kVG8iLCJhZGRFdmVudExpc3RlbmVyIiwiZmlsdGVyQ29udGVudEJsb2NrIiwiYXJyRWxlbWVudHMiLCJmYWRlT3V0IiwiZWFjaCIsImluZGV4IiwiZWxlbWVudCIsImkiLCJlIiwiZGF0YSIsInB1c2giLCJjb25zb2xlIiwibG9nIiwibGVuZ3RoIiwiZmFkZUluIiwib24iLCJwcmV2ZW50RGVmYXVsdCIsImFqYXhGb3JtIiwidXJsIiwiaGlzdG9yeSIsInJlcGxhY2VTdGF0ZSIsInoiLCJhamF4IiwidHlwZSIsImRhdGFUeXBlIiwic2VyaWFsaXplIiwic3VjY2VzcyIsInJlc3BvbnNlIiwicmVzdWx0IiwicGFyc2VKU09OIiwiZXJyb3IiLCJhbGVydCIsImFqYXhSZXF1ZXN0IiwidGhpcyIsInRvZ2dsZUNsYXNzIiwiZmFkZVRvZ2dsZSIsImRvY3VtZW50V2lkdGgiLCJzY3JvbGxiYXJXaWR0aCIsInBhcnNlSW50IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xpZW50V2lkdGgiLCJpbm5lcldpZHRoIiwiY3NzIiwicGFkZGluZy1yaWdodCIsImNvbmNhdCIsImhhc0NsYXNzIiwicmVtb3ZlQ2xhc3MiLCJwYXJlbnQiLCJuZXh0Iiwic2xpZGVUb2dnbGUiLCJwYXJlbnRzIiwiY2hpbGRyZW4iLCJ0ZXh0IiwidGFyZ2V0IiwidG9nZ2xlIiwiYWRkQ2xhc3MiLCJzaGFyZSIsImZpbmQiLCJtb3JlRWxlbWVudCIsImVsIiwiY3VySGVpZ2h0IiwiaGVpZ2h0IiwiYXV0b0hlaWdodCIsImFuaW1hdGUiLCJwcmVwZW5kIiwiaXRlbSIsInF1ZXJ5U2VsZWN0b3IiLCJPdmVybGF5U2Nyb2xsYmFycyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwYWRkaW5nQWJzb2x1dGUiLCJnZXRFbGVtZW50QnlJZCIsImlkIiwiZW5kdGltZSIsImNsb2NrIiwiZGF5c1NwYW4iLCJob3Vyc1NwYW4iLCJtaW51dGVzU3BhbiIsInNlY29uZHNTcGFuIiwidXBkYXRlQ2xvY2siLCJ0Iiwic2Vjb25kcyIsIm1pbnV0ZXMiLCJob3VycyIsIkRhdGUiLCJwYXJzZSIsIk1hdGgiLCJmbG9vciIsInRvdGFsIiwiZGF5cyIsImlubmVySFRNTCIsInNsaWNlIiwiY2xhc3NMaXN0IiwiYWRkIiwiY2xlYXJJbnRlcnZhbCIsInRpbWVpbnRlcnZhbCIsInNldEludGVydmFsIiwiaW5pdGlhbGl6ZUNsb2NrIiwiU3dpcGVyIiwic2xpZGVzUGVyVmlldyIsInNwYWNlQmV0d2VlbiIsInBhZ2luYXRpb24iXSwibWFwcGluZ3MiOiJBQUFBLGFBRUFBLFNBQVNDLG1CQUFxQixXQUNBLGdCQUF4QkQsU0FBU0UsWUFDWEMsRUFBRUMsUUFBUUMsU0FBVyxLQUFPRixFQUFFLDBCQUEwQkcsU0FBUyx5QkFJckVGLE9BQU9HLGlCQUFpQixPQUFRLFdBd0g5QixTQUFTQyxJQUNQLElBQUlDLEVBQWMsR0FDbEJOLEVBQUUsWUFBWU8sUUFBUSxLQUN0QlAsRUFBRSwwQkFBMEJRLEtBQUssU0FBVUMsRUFBT0MsR0FDaERWLEVBQUUsWUFBWVEsS0FBSyxTQUFVRyxFQUFHQyxHQUM5QlosRUFBRVksR0FBR0MsS0FBSyxVQUFZYixFQUFFVSxHQUFTRyxLQUFLLGFBQWVQLEVBQVlRLEtBQUtGLE9BRzFFRyxRQUFRQyxJQUFJVixHQUNaTixFQUFFTSxHQUFhVyxPQUFTakIsRUFBRU0sR0FBYVksT0FBTyxLQUFPbEIsRUFBRSxZQUFZa0IsT0FBTyxNQXJGNUVsQixFQUFFLHdCQUF3Qm1CLEdBQUcsZUFBZ0IsU0FBVVAsR0FDckRBLEVBQUVRLGlCQXhDSixTQUFxQkMsRUFBVUMsR0FDN0IsSUFDRUMsUUFBUUMsYUFBYSxLQUFNLEtBQU0sS0FDakMsTUFBT0MsR0FDUFYsUUFBUUMsSUFBSVMsR0FHZHpCLEVBQUUwQixLQUFLLENBQ0xKLElBQUtBLEVBQ0xLLEtBQU0sT0FDTkMs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T0FBTyxHQUU3Q1gsRUFBRVEsT0FBUyxJQUNiZCxFQUFNa0IsVUFBVUMsSUFBSSwrQkFDcEJDLGNBQWNDLElBSWxCaEIsSUFDQSxJQUFJZ0IsRUFBZUMsWUFBWWpCLEVBQWEsS0FLNUNrQixDQUFnQixRQURELGlCQUFpQnBELE9BQU9oRCxFQUFFLFVBQVVhLEtBQUssZUFBZ0IsbUJBQW1CbUMsT0FBT2hELEVBQUUsVUFBVWEsS0FBSyxhQUFjLG1CQUFtQm1DLE9BQU9oRCxFQUFFLFVBQVVhLEtBQUssY0FBZSxtQkFBbUJtQyxPQUFPaEQsRUFBRSxVQUFVYSxLQUFLLGVBQWdCLG1CQUFtQm1DLE9BQU9oRCxFQUFFLFVBQVVhLEtBQUssaUJBQWtCLG1CQUFtQm1DLE9BQU9oRCxFQUFFLFVBQVVhLEtBQUssaUJBQWtCLGNBS2xYYixFQUFFQyxRQUFRQyxTQUFXLEtBQU9MLFNBQVN5RSxjQUFjLHNCQUF3QixJQUFJK0IsT0FBTyxvQkFBcUIsQ0FDekdDLGNBQWUsT0FDZkMsYUFBYyxFQUNkQyxXQUFZLENBQ1Z6QyxHQUFJLHFCQUNKcEMsS0FBTSxhQUlWM0IsRUFBRUMsUUFBUUMsU0FBVyxNQUFRRixFQUFFLCtCQUErQkcsU0FBUyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmRvY3VtZW50Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiaW50ZXJhY3RpdmVcIikge1xuICAgICQod2luZG93KS53aWR0aCgpIDw9IDcwMCAmJiAkKCcubWFpbl9fY29udGVudC1oZWFkLXVpJykuYXBwZW5kVG8oJy5tYWluX19jb250ZW50LXRpbWVyJyk7XG4gIH1cbn07XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbiAoKSB7XG4gIC8vIHZhcmlhYmxlc1xuICAvLyAvdmFyaWFibGVzXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gdW5pdmVyc2FsIGZ1bmN0aW9uXG4gIGZ1bmN0aW9uIGFqYXhSZXF1ZXN0KGFqYXhGb3JtLCB1cmwpIHtcbiAgICB0cnkge1xuICAgICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgbnVsbCwgXCIjXCIpO1xuICAgIH0gY2F0Y2ggKHopIHtcbiAgICAgIGNvbnNvbGUubG9nKHopO1xuICAgIH1cblxuICAgICQuYWpheCh7XG4gICAgICB1cmw6IHVybCxcbiAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgZGF0YVR5cGU6IFwiaHRtbFwiLFxuICAgICAgZGF0YTogJChcIiNcIiArIGFqYXhGb3JtKS5zZXJpYWxpemUoKSxcbiAgICAgIC8vINCh0LXQsNGA0LjQu9C40LfRg9C10Lwg0L7QsdGK0LXQutGCXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XG4gICAgICAgIC8v0JTQsNC90L3Ri9C1INC+0YLQv9GA0LDQstC70LXQvdGLINGD0YHQv9C10YjQvdC+XG4gICAgICAgIHZhciByZXN1bHQgPSAkLnBhcnNlSlNPTihyZXNwb25zZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKHJlc3BvbnNlKSB7XG4gICAgICAgIC8vINCU0LDQvdC90YvQtSDQvdC1INC+0YLQv9GA0LDQstC70LXQvdGLXG4gICAgICAgIGFsZXJ0KFwi0J7RiNC40LHQutCwLiDQlNCw0L3QvdGL0LUg0L3QtSDQvtGC0L/RgNCw0LLQu9C10L3Riy5cIik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBzY3JvbGxFbXVsYXRpb24oKSB7XG4gICAgdmFyIGRvY3VtZW50V2lkdGggPSBwYXJzZUludChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpO1xuICAgIHZhciB3aW5kb3dzV2lkdGggPSBwYXJzZUludCh3aW5kb3cuaW5uZXJXaWR0aCk7XG4gICAgdmFyIHNjcm9sbGJhcldpZHRoID0gd2luZG93c1dpZHRoIC0gZG9jdW1lbnRXaWR0aDtcbiAgICAkKFwiYm9keVwiKS5jc3Moe1xuICAgICAgXCJwYWRkaW5nLXJpZ2h0XCI6IFwiXCIuY29uY2F0KHNjcm9sbGJhcldpZHRoLCBcInB4XCIpXG4gICAgfSk7XG4gICAgJChcImJvZHlcIikudG9nZ2xlQ2xhc3MoXCJibG9ja1wiKTtcbiAgfSAvLyAgL3VuaXZlcnNhbCBmdW5jdGlvblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIGV2ZW50XG4gIC8vINCk0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgcHJvZ3JhbS1ldmVudHMuaHRtbFxuXG5cbiAgJChcIiNwcm9ncmFtLWV2ZW50cy1mb3JtXCIpLm9uKFwiaW5wdXQgc3VibWl0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGFqYXhSZXF1ZXN0KFwicHJvZ3JhbS1ldmVudHMtZm9ybVwiLCBcInRlc3QucGhwXCIpO1xuICB9KTsgLy8gL9Ck0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgcHJvZ3JhbS1ldmVudHMuaHRtbFxuXG4gICQoXCJidXR0b24ubWVudV9fZGVza3RvcC1lbGVtZW50XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ21lbnVfX2Rlc2t0b3AtZWxlbWVudC0tb3BlbicpO1xuICAgICQoJy5oZWFkZXItbW9kYWxfX25hdicpLmZhZGVUb2dnbGUoNDAwKTtcbiAgfSk7XG4gICQoXCIubGFuZ3VhZ2VcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcygnbGFuZ3VhZ2UtLW9wZW4nKTtcbiAgICAkKCcuaGVhZGVyLW1vZGFsX19sYW5ndWFnZScpLmZhZGVUb2dnbGUoNDAwKTtcbiAgfSk7XG4gICQoXCIuaGVhZGVyX19hY291bnRcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcygnaGVhZGVyX19hY291bnQtLW9wZW4nKTtcbiAgICAkKCcuaGVhZGVyLW1vZGFsX19hY291bnQnKS5mYWRlVG9nZ2xlKDQwMCk7XG4gIH0pO1xuICAkKHdpbmRvdykud2lkdGgoKSA8PSAxMjc5ICYmICQoJy5tZW51Jykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIHNjcm9sbEVtdWxhdGlvbigpO1xuICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ21lbnUtLW9wZW4nKTtcbiAgICAkKHRoaXMpLmhhc0NsYXNzKCdtZW51LS1vcGVuJykgJiYgKCQoJy5sYW5ndWFnZScpLnJlbW92ZUNsYXNzKCdsYW5ndWFnZS0tb3BlbicpLCAkKCcuaGVhZGVyLW1vZGFsX19sYW5ndWFnZScpLmZhZGVPdXQoMTAwKSk7XG4gIH0pO1xuICAkKFwiLmZpbHRlcl9fc3dpdGNoLXRleHRcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKS5wYXJlbnQoKS50b2dnbGVDbGFzcyhcImZpbHRlcl9fc3dpdGNoLS1hY3RpdmVcIik7XG4gICAgJCh0aGlzKS5uZXh0KCkuc2xpZGVUb2dnbGUoNDAwKTtcbiAgfSk7XG4gICQoXCIuZmlsdGVyX19zd2l0Y2gtbW9kYWwtbGFiZWxcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgICQodGhpcykucGFyZW50cyhcIi5maWx0ZXJfX3N3aXRjaFwiKS5jaGlsZHJlbihcIi5maWx0ZXJfX3N3aXRjaC10ZXh0XCIpLnRleHQoJChlLnRhcmdldCkudGV4dCgpKTtcbiAgICAkKHRoaXMpLnBhcmVudHMoXCIuZmlsdGVyX19zd2l0Y2gtbW9kYWxcIikudG9nZ2xlKDApO1xuICAgICQodGhpcykucGFyZW50cyhcIi5maWx0ZXJfX3N3aXRjaFwiKS50b2dnbGVDbGFzcyhcImZpbHRlcl9fc3dpdGNoLS1hY3RpdmVcIik7XG4gIH0pO1xuICAkKFwiLmNydW1ic19fY3J1bWJcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgICQoZS50YXJnZXQpLnBhcmVudHMoJy5maWx0ZXItdG9wJykubGVuZ3RoICYmICgkKHRoaXMpLnRvZ2dsZUNsYXNzKCdjcnVtYnNfX2NydW1iLS1hY3RpdmUnKSwgZmlsdGVyQ29udGVudEJsb2NrKCkpO1xuICAgICQoZS50YXJnZXQpLnBhcmVudHMoXCIuY3J1bWJzX19jcnVtYlwiKS50b2dnbGVDbGFzcyhcImNydW1ic19fY3J1bWItLWFjdGl2ZVwiKTtcbiAgICAkKGUudGFyZ2V0KS5wYXJlbnRzKFwiLmNydW1ic1wiKS5jaGlsZHJlbihcIi5jcnVtYnNfX2NydW1iLS1hY3RpdmVcIikubGVuZ3RoID09PSAwID8gJChlLnRhcmdldCkucGFyZW50cyhcIi5jcnVtYnNcIikuY2hpbGRyZW4oXCIuY3J1bWJzX19jbGVhclwiKS5yZW1vdmVDbGFzcyhcImNydW1ic19fY2xlYXItLWFjdGl2ZVwiKSA6ICQoZS50YXJnZXQpLnBhcmVudHMoXCIuY3J1bWJzXCIpLmNoaWxkcmVuKFwiLmNydW1ic19fY2xlYXJcIikuYWRkQ2xhc3MoXCJjcnVtYnNfX2NsZWFyLS1hY3RpdmVcIik7XG4gIH0pO1xuICAkKFwiLmNydW1ic19fY2xlYXJcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKS5wYXJlbnRzKFwiLmNydW1ic1wiKS5jaGlsZHJlbihcIi5jcnVtYnNfX2NydW1iXCIpLnJlbW92ZUNsYXNzKFwiY3J1bWJzX19jcnVtYi0tYWN0aXZlXCIpO1xuICAgICQodGhpcykucmVtb3ZlQ2xhc3MoXCJjcnVtYnNfX2NsZWFyLS1hY3RpdmVcIik7XG4gICAgZmlsdGVyQ29udGVudEJsb2NrKCk7XG4gIH0pO1xuICAkKCcuZmlsdGVyLWxpbmsnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgJCgnLmZpbHRlci1saW5rLS1hY3RpdmUnKS5yZW1vdmVDbGFzcygnZmlsdGVyLWxpbmstLWFjdGl2ZScpO1xuICAgICQodGhpcykuYWRkQ2xhc3MoJ2ZpbHRlci1saW5rLS1hY3RpdmUnKTtcbiAgfSk7XG4gICQoJ2JvZHknKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBzaGFyZSA9ICQoZS50YXJnZXQpLmhhc0NsYXNzKCdzaGFyZScpICYmICQoZS50YXJnZXQpIHx8ICQoZS50YXJnZXQpLnBhcmVudHMoJy5zaGFyZScpLmxlbmd0aCAmJiAkKCQoZS50YXJnZXQpLnBhcmVudHMoJy5zaGFyZScpWzBdKSB8fCBudWxsO1xuICAgIHNoYXJlICYmIHNoYXJlLmZpbmQoJy5pbmZvcm1hdGlvbi1zaGFyZScpLnRvZ2dsZUNsYXNzKCdpbmZvcm1hdGlvbi1zaGFyZS0tYWN0aXZlJyk7XG4gICAgJChlLnRhcmdldCkuaGFzQ2xhc3MoJ2F2YXRhcnNfX21vcmUnKSAmJiAkKGUudGFyZ2V0KSAmJiAkKGUudGFyZ2V0KS50b2dnbGVDbGFzcygnYXZhdGFyc19fbW9yZS0tYWN0aXZlJyk7XG4gICAgdmFyIG1vcmVFbGVtZW50ID0gJChlLnRhcmdldCkuaGFzQ2xhc3MoJ2F2YXRhcnNfX21vcmUtZWxlbWVudCcpICYmICQoZS50YXJnZXQpIHx8ICQoZS50YXJnZXQpLnBhcmVudHMoJy5hdmF0YXJzX19tb3JlLWVsZW1lbnQnKS5sZW5ndGggJiYgJCgkKGUudGFyZ2V0KS5wYXJlbnRzKCcuYXZhdGFyc19fbW9yZS1lbGVtZW50JylbMF0pIHx8IG51bGw7XG4gICAgbW9yZUVsZW1lbnQgJiYgKG1vcmVFbGVtZW50LnRvZ2dsZUNsYXNzKCdhdmF0YXJzX19tb3JlLWVsZW1lbnQtLWFjdGl2ZScpLCBtb3JlRWxlbWVudC5maW5kKCcuYXZhdGFyc19fbW9yZS10ZXh0Jykuc2xpZGVUb2dnbGUoNDAwKSk7XG4gIH0pO1xuICAkKCcuY29udGVudF9fbW9yZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAkKCcuY2FyZC0taGlkZGVuJykucmVtb3ZlQ2xhc3MoJ2NhcmQtLWhpZGRlbicpO1xuICB9KTtcbiAgJCgnLm1haW5fX2NvbnRlbnQtbW9yZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAkKCcubWFpbl9fY29udGVudC1tb3JlJykudG9nZ2xlQ2xhc3MoJ21haW5fX2NvbnRlbnQtbW9yZS0tb3BlbicpO1xuXG4gICAgaWYgKCEkKCcubWFpbl9fY29udGVudC10ZXh0LS1hY3RpdmUnKS5sZW5ndGgpIHtcbiAgICAgICQoJy5tYWluX19jb250ZW50LXRleHQnKS50b2dnbGVDbGFzcygnbWFpbl9fY29udGVudC10ZXh0LS1hY3RpdmUnKTtcbiAgICAgIHZhciBlbCA9ICQoJy5tYWluX19jb250ZW50LXRleHQnKSxcbiAgICAgICAgICBjdXJIZWlnaHQgPSBlbC5oZWlnaHQoKSxcbiAgICAgICAgICBhdXRvSGVpZ2h0ID0gZWwuY3NzKCdoZWlnaHQnLCAnYXV0bycpLmhlaWdodCgpO1xuICAgICAgZWwuaGVpZ2h0KGN1ckhlaWdodCkuYW5pbWF0ZSh7XG4gICAgICAgIGhlaWdodDogYXV0b0hlaWdodFxuICAgICAgfSwgMjAwKTtcbiAgICAgICQoJy5tYWluX19jb250ZW50LW1vcmUtdGV4dCcpLnRleHQoJCgnLm1haW5fX2NvbnRlbnQtbW9yZS10ZXh0JykuZGF0YSgnc3dpdGNoLXRleHQtc3RhcnQnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJy5tYWluX19jb250ZW50LXRleHQnKS50b2dnbGVDbGFzcygnbWFpbl9fY29udGVudC10ZXh0LS1hY3RpdmUnKTtcbiAgICAgICQoJy5tYWluX19jb250ZW50LXRleHQnKS5jc3MoJ2hlaWdodCcsICQoJy5tYWluX19jb250ZW50LXRleHQnKS5kYXRhKCd0ZXh0LWhlaWdodCcpKTtcbiAgICAgICQoJy5tYWluX19jb250ZW50LW1vcmUtdGV4dCcpLnRleHQoJCgnLm1haW5fX2NvbnRlbnQtbW9yZS10ZXh0JykuZGF0YSgnc3dpdGNoLXRleHQtZW5kJykpO1xuICAgIH1cbiAgfSk7IC8vIC9ldmVudFxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIHVuaXF1ZSBmdW5jdGlvblxuXG4gIGZ1bmN0aW9uIGZpbHRlckNvbnRlbnRCbG9jaygpIHtcbiAgICB2YXIgYXJyRWxlbWVudHMgPSBbXTtcbiAgICAkKCcuY29udGVudCcpLmZhZGVPdXQoMTAwKTtcbiAgICAkKCcuY3J1bWJzX19jcnVtYi0tYWN0aXZlJykuZWFjaChmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHtcbiAgICAgICQoJy5jb250ZW50JykuZWFjaChmdW5jdGlvbiAoaSwgZSkge1xuICAgICAgICAkKGUpLmRhdGEoJ25hbWUnKSA9PT0gJChlbGVtZW50KS5kYXRhKCd0YWctbmFtZScpICYmIGFyckVsZW1lbnRzLnB1c2goZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBjb25zb2xlLmxvZyhhcnJFbGVtZW50cyk7XG4gICAgJChhcnJFbGVtZW50cykubGVuZ3RoID8gJChhcnJFbGVtZW50cykuZmFkZUluKDEwMCkgOiAkKCcuY29udGVudCcpLmZhZGVJbigxMDApO1xuICB9IC8vIC91bmlxdWUgZnVuY3Rpb25cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBQYWdlIGxvYWRcblxuXG4gICQod2luZG93KS53aWR0aCgpIDw9IDEyNzkgJiYgJCgnLmhlYWRlci1tb2RhbF9fbmF2LWVsZW1lbnQnKS5hcHBlbmRUbygnLm1lbnVfX2Rlc2t0b3AnKTtcbiAgJCh3aW5kb3cpLndpZHRoKCkgPD0gNzAwICYmICQoJy5tZW51X19kZXNrdG9wJykucHJlcGVuZCgkKCcuaGVhZGVyLW1vZGFsX19hY291bnQnKSk7IC8vINCc0LXRhdCw0L3QuNC60LAg0LTQvtCx0LDQstC70LXQvdC40Y8g0LrRgNC+0YjQutC+0Lkg0LTQsNGC0Ysg0L3QsCDQv9C70LDQvdGI0LXRgtCw0YVcblxuICAkKHdpbmRvdykud2lkdGgoKSA8PSA3MDAgJiYgJCgnLmhlYWRlcl9fYnV0dG9uJykuYXBwZW5kVG8oJy5tZW51X19kZXNrdG9wJyk7XG5cbiAgaWYgKCQod2luZG93KS53aWR0aCgpIDw9IDkwMCkge1xuICAgICQoJy5jYXJkJykuZWFjaChmdW5jdGlvbiAoaW5kZXgsIGl0ZW0pIHtcbiAgICAgICQoaXRlbSkuZmluZCgnLmNhcmRfX2hlYWQtY3J1bWJzJykucHJlcGVuZChcIjxkaXYgY2xhc3M9XFxcImNhcmRfX2hlYWQtaW5mb1xcXCI+XCIuY29uY2F0KCQoaXRlbSkuZmluZCgnLmNhcmRfX2Zvb3RlciAuY2FyZF9fZGF5JykudGV4dCgpLCBcIjwvZGl2PlwiKSk7XG4gICAgfSk7XG4gIH0gLy8gL9Cc0LXRhdCw0L3QuNC60LAg0LTQvtCx0LDQstC70LXQvdC40Y8g0LrRgNC+0YjQutC+0Lkg0LTQsNGC0Ysg0L3QsCDQv9C70LDQvdGI0LXRgtCw0YVcblxuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluX19yZWNvbW1lbmRhdGlvbi1ibG9jaycpICYmICQod2luZG93KS53aWR0aCgpID4gMTEwMCAmJiBPdmVybGF5U2Nyb2xsYmFycyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1haW5fX3JlY29tbWVuZGF0aW9uLWJsb2NrXCIpLCB7XG4gICAgcGFkZGluZ0Fic29sdXRlOiB0cnVlXG4gIH0pOyAvLyDQotCQ0JnQnNCV0KBcblxuICBmdW5jdGlvbiBnZXRUaW1lUmVtYWluaW5nKGVuZHRpbWUpIHtcbiAgICB2YXIgdCA9IERhdGUucGFyc2UoZW5kdGltZSkgLSBEYXRlLnBhcnNlKG5ldyBEYXRlKCkpO1xuICAgIHZhciBzZWNvbmRzID0gTWF0aC5mbG9vcih0IC8gMTAwMCAlIDYwKTtcbiAgICB2YXIgbWludXRlcyA9IE1hdGguZmxvb3IodCAvIDEwMDAgLyA2MCAlIDYwKTtcbiAgICB2YXIgaG91cnMgPSBNYXRoLmZsb29yKHQgLyAoMTAwMCAqIDYwICogNjApICUgMjQpO1xuICAgIHZhciBkYXlzID0gTWF0aC5mbG9vcih0IC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKTtcbiAgICByZXR1cm4ge1xuICAgICAgJ3RvdGFsJzogdCxcbiAgICAgICdkYXlzJzogZGF5cyxcbiAgICAgICdob3Vycyc6IGhvdXJzLFxuICAgICAgJ21pbnV0ZXMnOiBtaW51dGVzLFxuICAgICAgJ3NlY29uZHMnOiBzZWNvbmRzXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRpYWxpemVDbG9jayhpZCwgZW5kdGltZSkge1xuICAgIHZhciBjbG9jayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICB2YXIgZGF5c1NwYW4gPSBjbG9jay5xdWVyeVNlbGVjdG9yKCcjdGltZXItZGF5cycpO1xuICAgIHZhciBob3Vyc1NwYW4gPSBjbG9jay5xdWVyeVNlbGVjdG9yKCcjdGltZXItaG91cnMnKTtcbiAgICB2YXIgbWludXRlc1NwYW4gPSBjbG9jay5xdWVyeVNlbGVjdG9yKCcjdGltZXItbWludXRlcycpO1xuICAgIHZhciBzZWNvbmRzU3BhbiA9IGNsb2NrLnF1ZXJ5U2VsZWN0b3IoJyN0aW1lci1zZWNvbmRzJyk7XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVDbG9jaygpIHtcbiAgICAgIHZhciB0ID0gZ2V0VGltZVJlbWFpbmluZyhlbmR0aW1lKTtcbiAgICAgIGRheXNTcGFuLmlubmVySFRNTCA9IHQuZGF5cztcbiAgICAgIGhvdXJzU3Bhbi5pbm5lckhUTUwgPSAoJzAnICsgdC5ob3Vycykuc2xpY2UoLTIpO1xuICAgICAgbWludXRlc1NwYW4uaW5uZXJIVE1MID0gKCcwJyArIHQubWludXRlcykuc2xpY2UoLTIpO1xuICAgICAgc2Vjb25kc1NwYW4uaW5uZXJIVE1MID0gKCcwJyArIHQuc2Vjb25kcykuc2xpY2UoLTIpO1xuXG4gICAgICBpZiAodC50b3RhbCA8PSAwKSB7XG4gICAgICAgIGNsb2NrLmNsYXNzTGlzdC5hZGQoJ21haW5fX2NvbnRlbnQtc3RhcnQtLWZpbmlzaCcpO1xuICAgICAgICBjbGVhckludGVydmFsKHRpbWVpbnRlcnZhbCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlQ2xvY2soKTtcbiAgICB2YXIgdGltZWludGVydmFsID0gc2V0SW50ZXJ2YWwodXBkYXRlQ2xvY2ssIDEwMDApO1xuICB9XG5cbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aW1lcicpKSB7XG4gICAgdmFyIGRlYWRsaW5lID0gXCJcXG4gICAgICAgICAgICBcIi5jb25jYXQoJCgnI3RpbWVyJykuZGF0YSgndGltZXItbW9udGgnKSwgXCIgXFxuICAgICAgICAgICAgXCIpLmNvbmNhdCgkKCcjdGltZXInKS5kYXRhKCd0aW1lci1kYXknKSwgXCIgXFxuICAgICAgICAgICAgXCIpLmNvbmNhdCgkKCcjdGltZXInKS5kYXRhKCd0aW1lci15ZWFyJyksIFwiIFxcbiAgICAgICAgICAgIFwiKS5jb25jYXQoJCgnI3RpbWVyJykuZGF0YSgndGltZXItaG91cnMnKSwgXCI6XFxuICAgICAgICAgICAgXCIpLmNvbmNhdCgkKCcjdGltZXInKS5kYXRhKCd0aW1lci1taW51dGVzJyksIFwiOlxcbiAgICAgICAgICAgIFwiKS5jb25jYXQoJCgnI3RpbWVyJykuZGF0YSgndGltZXItc2Vjb25kcycpLCBcIiBHTVQrMDMwMFwiKTtcbiAgICBpbml0aWFsaXplQ2xvY2soJ3RpbWVyJywgZGVhZGxpbmUpO1xuICB9IC8vIC/QotCQ0JnQnNCV0KBcblxuXG4gICQod2luZG93KS53aWR0aCgpIDw9IDcwMCAmJiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3dpcGVyLWNvbnRhaW5lcicpICYmIG5ldyBTd2lwZXIoJy5zd2lwZXItY29udGFpbmVyJywge1xuICAgIHNsaWRlc1BlclZpZXc6ICdhdXRvJyxcbiAgICBzcGFjZUJldHdlZW46IDgsXG4gICAgcGFnaW5hdGlvbjoge1xuICAgICAgZWw6ICcuc3dpcGVyLXBhZ2luYXRpb24nLFxuICAgICAgdHlwZTogJ2J1bGxldHMnXG4gICAgfSAvLyBhdXRvSGVpZ2h0OiB0cnVlXG5cbiAgfSk7XG4gICQod2luZG93KS53aWR0aCgpIDw9IDExMDAgJiYgJCgnLm1haW5fX3JlY29tbWVuZGF0aW9uLWJsb2NrJykuYXBwZW5kVG8oJy5yZWNvbW1lbmRhdGlvbicpOyAvLyAvUGFnZSBsb2FkXG59KTsiXX0=
