"use strict";window.addEventListener("load",function(){function t(){var n=[];$(".content").fadeOut(100),$(".crumbs__crumb--active").each(function(e,a){$(".content").each(function(e,t){$(t).data("name")===$(a).data("tag-name")&&n.push(t)})}),console.log(n),$(n).length?$(n).fadeIn(100):$(".content").fadeIn(100)}$("#program-events-form").on("input submit",function(e){e.preventDefault(),function(e,t){try{history.replaceState(null,null,"#")}catch(e){console.log(e)}$.ajax({url:t,type:"POST",dataType:"html",data:$("#"+e).serialize(),success:function(e){var t=$.parseJSON(e);console.log(t)},error:function(e){alert("Ошибка. Данные не отправлены.")}})}("program-events-form","test.php")}),$("button.menu__desktop-element").on("click",function(){$(this).toggleClass("menu__desktop-element--open"),$(".header-modal__nav").fadeToggle(400)}),$(".language").on("click",function(){$(this).toggleClass("language--open"),$(".header-modal__language").fadeToggle(400)}),$(".header__acount").on("click",function(){$(this).toggleClass("header__acount--open"),$(".header-modal__acount").fadeToggle(400)}),$(window).width()<=1279&&$(".menu").on("click",function(){var e,t;e=parseInt(document.documentElement.clientWidth),t=parseInt(window.innerWidth)-e,$("body").css({"padding-right":"".concat(t,"px")}),$("body").toggleClass("block"),$(this).toggleClass("menu--open"),$(this).hasClass("menu--open")&&($(".language").removeClass("language--open"),$(".header-modal__language").fadeOut(100))}),$(".filter__switch-text").on("click",function(){$(this).parent().toggleClass("filter__switch--active"),$(this).next().slideToggle(400)}),$(".filter__switch-modal-label").on("click",function(e){$(this).parents(".filter__switch").children(".filter__switch-text").text($(e.target).text()),$(this).parents(".filter__switch-modal").toggle(0),$(this).parents(".filter__switch").toggleClass("filter__switch--active")}),$(".crumbs__crumb").on("click",function(e){$(e.target).parents(".filter-top").length&&($(this).toggleClass("crumbs__crumb--active"),t()),$(e.target).parents(".crumbs__crumb").toggleClass("crumbs__crumb--active"),0===$(e.target).parents(".crumbs").children(".crumbs__crumb--active").length?$(e.target).parents(".crumbs").children(".crumbs__clear").removeClass("crumbs__clear--active"):$(e.target).parents(".crumbs").children(".crumbs__clear").addClass("crumbs__clear--active")}),$(".crumbs__clear").on("click",function(){$(this).parents(".crumbs").children(".crumbs__crumb").removeClass("crumbs__crumb--active"),$(this).removeClass("crumbs__clear--active"),t()}),$(".filter-link").on("click",function(){$(".filter-link--active").removeClass("filter-link--active"),$(this).addClass("filter-link--active")}),$("body").on("click",function(e){var t=$(e.target).hasClass("share")&&$(e.target)||$(e.target).parents(".share").length&&$($(e.target).parents(".share")[0])||null;t&&t.find(".information-share").toggleClass("information-share--active"),$(e.target).hasClass("avatars__more")&&$(e.target)&&$(e.target).toggleClass("avatars__more--active");var a=$(e.target).hasClass("avatars__more-element")&&$(e.target)||$(e.target).parents(".avatars__more-element").length&&$($(e.target).parents(".avatars__more-element")[0])||null;a&&(a.toggleClass("avatars__more-element--active"),a.find(".avatars__more-text").slideToggle(400))}),$(".content__more").on("click",function(){$(".card--hidden").removeClass("card--hidden")}),$(window).width()<=1279&&$(".header-modal__nav-element").appendTo(".menu__desktop"),$(window).width()<=700&&$(".menu__desktop").prepend($(".header-modal__acount")),$(window).width()<=700&&$(".header__button").appendTo(".menu__desktop"),$(window).width()<=900&&$(".card").each(function(e,t){$(t).find(".card__head-crumbs").prepend('<div class="card__head-info">'.concat($(t).find(".card__footer .card__day").text(),"</div>"))})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImZpbHRlckNvbnRlbnRCbG9jayIsImFyckVsZW1lbnRzIiwiJCIsImZhZGVPdXQiLCJlYWNoIiwiaW5kZXgiLCJlbGVtZW50IiwiaSIsImUiLCJkYXRhIiwicHVzaCIsImNvbnNvbGUiLCJsb2ciLCJsZW5ndGgiLCJmYWRlSW4iLCJvbiIsInByZXZlbnREZWZhdWx0IiwiYWpheEZvcm0iLCJ1cmwiLCJoaXN0b3J5IiwicmVwbGFjZVN0YXRlIiwieiIsImFqYXgiLCJ0eXBlIiwiZGF0YVR5cGUiLCJzZXJpYWxpemUiLCJzdWNjZXNzIiwicmVzcG9uc2UiLCJyZXN1bHQiLCJwYXJzZUpTT04iLCJlcnJvciIsImFsZXJ0IiwiYWpheFJlcXVlc3QiLCJ0aGlzIiwidG9nZ2xlQ2xhc3MiLCJmYWRlVG9nZ2xlIiwid2lkdGgiLCJkb2N1bWVudFdpZHRoIiwic2Nyb2xsYmFyV2lkdGgiLCJwYXJzZUludCIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xpZW50V2lkdGgiLCJpbm5lcldpZHRoIiwiY3NzIiwicGFkZGluZy1yaWdodCIsImNvbmNhdCIsImhhc0NsYXNzIiwicmVtb3ZlQ2xhc3MiLCJwYXJlbnQiLCJuZXh0Iiwic2xpZGVUb2dnbGUiLCJwYXJlbnRzIiwiY2hpbGRyZW4iLCJ0ZXh0IiwidGFyZ2V0IiwidG9nZ2xlIiwiYWRkQ2xhc3MiLCJzaGFyZSIsImZpbmQiLCJtb3JlRWxlbWVudCIsImFwcGVuZFRvIiwicHJlcGVuZCIsIml0ZW0iXSwibWFwcGluZ3MiOiJBQUFBLGFBTUFBLE9BQU9DLGlCQUFpQixPQUFRLFdBdUc5QixTQUFTQyxJQUNQLElBQUlDLEVBQWMsR0FDbEJDLEVBQUUsWUFBWUMsUUFBUSxLQUN0QkQsRUFBRSwwQkFBMEJFLEtBQUssU0FBVUMsRUFBT0MsR0FDaERKLEVBQUUsWUFBWUUsS0FBSyxTQUFVRyxFQUFHQyxHQUM5Qk4sRUFBRU0sR0FBR0MsS0FBSyxVQUFZUCxFQUFFSSxHQUFTRyxLQUFLLGFBQWVSLEVBQVlTLEtBQUtGLE9BRzFFRyxRQUFRQyxJQUFJWCxHQUNaQyxFQUFFRCxHQUFhWSxPQUFTWCxFQUFFRCxHQUFhYSxPQUFPLEtBQU9aLEVBQUUsWUFBWVksT0FBTyxLQXBFNUVaLEVBQUUsd0JBQXdCYSxHQUFHLGVBQWdCLFNBQVVQLEdBQ3JEQSxFQUFFUSxpQkF4Q0osU0FBcUJDLEVBQVVDLEdBQzdCLElBQ0VDLFFBQVFDLGFBQWEsS0FBTSxLQUFNLEtBQ2pDLE1BQU9DLEdBQ1BWLFFBQVFDLElBQUlTLEdBR2RuQixFQUFFb0IsS0FBSyxDQUNMSixJQUFLQSxFQUNMSyxLQUFNLE9BQ05DLFNBQVUsT0FDVmYsS0FBTVAsRUFBRSxJQUFNZSxHQUFVUSxZQUV4QkMsUUFBUyxTQUFpQkMsR0FFeEIsSUFBSUMsRUFBUzFCLEVBQUUyQixVQUFVRixHQUN6QmhCLFFBQVFDLElBQUlnQixJQUVkRSxNQUFPLFNBQWVILEdBRXBCSSxNQUFNLG9DQXFCVkMsQ0FBWSxzQkFBdUIsY0FHckM5QixFQUFFLGdDQUFnQ2EsR0FBRyxRQUFTLFdBQzVDYixFQUFFK0IsTUFBTUMsWUFBWSwrQkFDcEJoQyxFQUFFLHNCQUFzQmlDLFdBQVcsT0FFckNqQyxFQUFFLGFBQWFhLEdBQUcsUUFBUyxXQUN6QmIsRUFBRStCLE1BQU1DLFlBQVksa0JBQ3BCaEMsRUFBRSwyQkFBMkJpQyxXQUFXLE9BRTFDakMsRUFBRSxtQkFBbUJhLEdBQUcsUUFBUyxXQUMvQmIsRUFBRStCLE1BQU1DLFlBQVksd0JBQ3BCaEMsRUFBRSx5QkFBeUJpQyxXQUFXLE9BRXhDakMsRUFBRUosUUFBUXNDLFNBQVcsTUFBUWxDLEVBQUUsU0FBU2EsR0FBRyxRQUFTLFdBL0JwRCxJQUNNc0IsRUFFQUMsRUFGQUQsRUFBZ0JFLFNBQVNDLFNBQVNDLGdCQUFnQkMsYUFFbERKLEVBRGVDLFNBQVN6QyxPQUFPNkMsWUFDQ04sRUFDcENuQyxFQUFFLFFBQVEwQyxJQUFJLENBQ1pDLGdCQUFpQixHQUFHQyxPQUFPUixFQUFnQixRQUU3Q3BDLEVBQUUsUUFBUWdDLFlBQVksU0EwQnRCaEMsRUFBRStCLE1BQU1DLFlBQVksY0FDcEJoQyxFQUFFK0IsTUFBTWMsU0FBUyxnQkFBa0I3QyxFQUFFLGFBQWE4QyxZQUFZLGtCQUFtQjlDLEVBQUUsMkJBQTJCQyxRQUFRLFFBRXhIRCxFQUFFLHdCQUF3QmEsR0FBRyxRQUFTLFdBQ3BDYixFQUFFK0IsTUFBTWdCLFNBQVNmLFlBQVksMEJBQzdCaEMsRUFBRStCLE1BQU1pQixPQUFPQyxZQUFZLE9BRTdCakQsRUFBRSwrQkFBK0JhLEdBQUcsUUFBUyxTQUFVUCxHQUNyRE4sRUFBRStCLE1BQU1tQixRQUFRLG1CQUFtQkMsU0FBUyx3QkFBd0JDLEtBQUtwRCxFQUFFTSxFQUFFK0MsUUFBUUQsUUFDckZwRCxFQUFFK0IsTUFBTW1CLFFBQVEseUJBQXlCSSxPQUFPLEdBQ2hEdEQsRUFBRStCLE1BQU1tQixRQUFRLG1CQUFtQmxCLFlBQVksNEJBRWpEaEMsRUFBRSxrQkFBa0JhLEdBQUcsUUFBUyxTQUFVUCxHQUN4Q04sRUFBRU0sRUFBRStDLFFBQVFILFFBQVEsZUFBZXZDLFNBQVdYLEVBQUUrQixNQUFNQyxZQUFZLHlCQUEwQmxDLEtBQzVGRSxFQUFFTSxFQUFFK0MsUUFBUUgsUUFBUSxrQkFBa0JsQixZQUFZLHlCQUMyQixJQUE3RWhDLEVBQUVNLEVBQUUrQyxRQUFRSCxRQUFRLFdBQVdDLFNBQVMsMEJBQTBCeEMsT0FBZVgsRUFBRU0sRUFBRStDLFFBQVFILFFBQVEsV0FBV0MsU0FBUyxrQkFBa0JMLFlBQVkseUJBQTJCOUMsRUFBRU0sRUFBRStDLFFBQVFILFFBQVEsV0FBV0MsU0FBUyxrQkFBa0JJLFNBQVMsMkJBRXZQdkQsRUFBRSxrQkFBa0JhLEdBQUcsUUFBUyxXQUM5QmIsRUFBRStCLE1BQU1tQixRQUFRLFdBQVdDLFNBQVMsa0JBQWtCTCxZQUFZLHlCQUNsRTlDLEVBQUUrQixNQUFNZSxZQUFZLHlCQUNwQmhELE1BRUZFLEVBQUUsZ0JBQWdCYSxHQUFHLFFBQVMsV0FDNUJiLEVBQUUsd0JBQXdCOEMsWUFBWSx1QkFDdEM5QyxFQUFFK0IsTUFBTXdCLFNBQVMseUJBRW5CdkQsRUFBRSxRQUFRYSxHQUFHLFFBQVMsU0FBVVAsR0FDOUIsSUFBSWtELEVBQVF4RCxFQUFFTSxFQUFFK0MsUUFBUVIsU0FBUyxVQUFZN0MsRUFBRU0sRUFBRStDLFNBQVdyRCxFQUFFTSxFQUFFK0MsUUFBUUgsUUFBUSxVQUFVdkMsUUFBVVgsRUFBRUEsRUFBRU0sRUFBRStDLFFBQVFILFFBQVEsVUFBVSxLQUFPLEtBQzNJTSxHQUFTQSxFQUFNQyxLQUFLLHNCQUFzQnpCLFlBQVksNkJBQ3REaEMsRUFBRU0sRUFBRStDLFFBQVFSLFNBQVMsa0JBQW9CN0MsRUFBRU0sRUFBRStDLFNBQVdyRCxFQUFFTSxFQUFFK0MsUUFBUXJCLFlBQVkseUJBQ2hGLElBQUkwQixFQUFjMUQsRUFBRU0sRUFBRStDLFFBQVFSLFNBQVMsMEJBQTRCN0MsRUFBRU0sRUFBRStDLFNBQVdyRCxFQUFFTSxFQUFFK0MsUUFBUUgsUUFBUSwwQkFBMEJ2QyxRQUFVWCxFQUFFQSxFQUFFTSxFQUFFK0MsUUFBUUgsUUFBUSwwQkFBMEIsS0FBTyxLQUNqTVEsSUFBZ0JBLEVBQVkxQixZQUFZLGlDQUFrQzBCLEVBQVlELEtBQUssdUJBQXVCUixZQUFZLFFBRWhJakQsRUFBRSxrQkFBa0JhLEdBQUcsUUFBUyxXQUM5QmIsRUFBRSxpQkFBaUI4QyxZQUFZLGtCQXFCakM5QyxFQUFFSixRQUFRc0MsU0FBVyxNQUFRbEMsRUFBRSw4QkFBOEIyRCxTQUFTLGtCQUN0RTNELEVBQUVKLFFBQVFzQyxTQUFXLEtBQU9sQyxFQUFFLGtCQUFrQjRELFFBQVE1RCxFQUFFLDBCQUUxREEsRUFBRUosUUFBUXNDLFNBQVcsS0FBT2xDLEVBQUUsbUJBQW1CMkQsU0FBUyxrQkFFdEQzRCxFQUFFSixRQUFRc0MsU0FBVyxLQUN2QmxDLEVBQUUsU0FBU0UsS0FBSyxTQUFVQyxFQUFPMEQsR0FDL0I3RCxFQUFFNkQsR0FBTUosS0FBSyxzQkFBc0JHLFFBQVEsZ0NBQWtDaEIsT0FBTzVDLEVBQUU2RCxHQUFNSixLQUFLLDRCQUE0QkwsT0FBUSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIGRvY3VtZW50Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuLy8gICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImludGVyYWN0aXZlXCIgKSB7XG4vLyAgICAgfVxuLy8gfVxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGZ1bmN0aW9uICgpIHtcbiAgLy8gdmFyaWFibGVzXG4gIC8vIC92YXJpYWJsZXNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyB1bml2ZXJzYWwgZnVuY3Rpb25cbiAgZnVuY3Rpb24gYWpheFJlcXVlc3QoYWpheEZvcm0sIHVybCkge1xuICAgIHRyeSB7XG4gICAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCBudWxsLCBcIiNcIik7XG4gICAgfSBjYXRjaCAoeikge1xuICAgICAgY29uc29sZS5sb2coeik7XG4gICAgfVxuXG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogdXJsLFxuICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICBkYXRhVHlwZTogXCJodG1sXCIsXG4gICAgICBkYXRhOiAkKFwiI1wiICsgYWpheEZvcm0pLnNlcmlhbGl6ZSgpLFxuICAgICAgLy8g0KHQtdCw0YDQuNC70LjQt9GD0LXQvCDQvtCx0YrQtdC60YJcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgICAgICAgLy/QlNCw0L3QvdGL0LUg0L7RgtC/0YDQsNCy0LvQtdC90Ysg0YPRgdC/0LXRiNC90L5cbiAgICAgICAgdmFyIHJlc3VsdCA9ICQucGFyc2VKU09OKHJlc3BvbnNlKTtcbiAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IocmVzcG9uc2UpIHtcbiAgICAgICAgLy8g0JTQsNC90L3Ri9C1INC90LUg0L7RgtC/0YDQsNCy0LvQtdC90YtcbiAgICAgICAgYWxlcnQoXCLQntGI0LjQsdC60LAuINCU0LDQvdC90YvQtSDQvdC1INC+0YLQv9GA0LDQstC70LXQvdGLLlwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNjcm9sbEVtdWxhdGlvbigpIHtcbiAgICB2YXIgZG9jdW1lbnRXaWR0aCA9IHBhcnNlSW50KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCk7XG4gICAgdmFyIHdpbmRvd3NXaWR0aCA9IHBhcnNlSW50KHdpbmRvdy5pbm5lcldpZHRoKTtcbiAgICB2YXIgc2Nyb2xsYmFyV2lkdGggPSB3aW5kb3dzV2lkdGggLSBkb2N1bWVudFdpZHRoO1xuICAgICQoXCJib2R5XCIpLmNzcyh7XG4gICAgICBcInBhZGRpbmctcmlnaHRcIjogXCJcIi5jb25jYXQoc2Nyb2xsYmFyV2lkdGgsIFwicHhcIilcbiAgICB9KTtcbiAgICAkKFwiYm9keVwiKS50b2dnbGVDbGFzcyhcImJsb2NrXCIpO1xuICB9IC8vICAvdW5pdmVyc2FsIGZ1bmN0aW9uXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gZXZlbnRcbiAgLy8g0KTQuNC70YzRgtGAINC90LAg0YHRgtGA0LDQvdC40YbQtSBwcm9ncmFtLWV2ZW50cy5odG1sXG5cblxuICAkKFwiI3Byb2dyYW0tZXZlbnRzLWZvcm1cIikub24oXCJpbnB1dCBzdWJtaXRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgYWpheFJlcXVlc3QoXCJwcm9ncmFtLWV2ZW50cy1mb3JtXCIsIFwidGVzdC5waHBcIik7XG4gIH0pOyAvLyAv0KTQuNC70YzRgtGAINC90LAg0YHRgtGA0LDQvdC40YbQtSBwcm9ncmFtLWV2ZW50cy5odG1sXG5cbiAgJChcImJ1dHRvbi5tZW51X19kZXNrdG9wLWVsZW1lbnRcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcygnbWVudV9fZGVza3RvcC1lbGVtZW50LS1vcGVuJyk7XG4gICAgJCgnLmhlYWRlci1tb2RhbF9fbmF2JykuZmFkZVRvZ2dsZSg0MDApO1xuICB9KTtcbiAgJChcIi5sYW5ndWFnZVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdsYW5ndWFnZS0tb3BlbicpO1xuICAgICQoJy5oZWFkZXItbW9kYWxfX2xhbmd1YWdlJykuZmFkZVRvZ2dsZSg0MDApO1xuICB9KTtcbiAgJChcIi5oZWFkZXJfX2Fjb3VudFwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdoZWFkZXJfX2Fjb3VudC0tb3BlbicpO1xuICAgICQoJy5oZWFkZXItbW9kYWxfX2Fjb3VudCcpLmZhZGVUb2dnbGUoNDAwKTtcbiAgfSk7XG4gICQod2luZG93KS53aWR0aCgpIDw9IDEyNzkgJiYgJCgnLm1lbnUnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgc2Nyb2xsRW11bGF0aW9uKCk7XG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcygnbWVudS0tb3BlbicpO1xuICAgICQodGhpcykuaGFzQ2xhc3MoJ21lbnUtLW9wZW4nKSAmJiAoJCgnLmxhbmd1YWdlJykucmVtb3ZlQ2xhc3MoJ2xhbmd1YWdlLS1vcGVuJyksICQoJy5oZWFkZXItbW9kYWxfX2xhbmd1YWdlJykuZmFkZU91dCgxMDApKTtcbiAgfSk7XG4gICQoXCIuZmlsdGVyX19zd2l0Y2gtdGV4dFwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMpLnBhcmVudCgpLnRvZ2dsZUNsYXNzKFwiZmlsdGVyX19zd2l0Y2gtLWFjdGl2ZVwiKTtcbiAgICAkKHRoaXMpLm5leHQoKS5zbGlkZVRvZ2dsZSg0MDApO1xuICB9KTtcbiAgJChcIi5maWx0ZXJfX3N3aXRjaC1tb2RhbC1sYWJlbFwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgJCh0aGlzKS5wYXJlbnRzKFwiLmZpbHRlcl9fc3dpdGNoXCIpLmNoaWxkcmVuKFwiLmZpbHRlcl9fc3dpdGNoLXRleHRcIikudGV4dCgkKGUudGFyZ2V0KS50ZXh0KCkpO1xuICAgICQodGhpcykucGFyZW50cyhcIi5maWx0ZXJfX3N3aXRjaC1tb2RhbFwiKS50b2dnbGUoMCk7XG4gICAgJCh0aGlzKS5wYXJlbnRzKFwiLmZpbHRlcl9fc3dpdGNoXCIpLnRvZ2dsZUNsYXNzKFwiZmlsdGVyX19zd2l0Y2gtLWFjdGl2ZVwiKTtcbiAgfSk7XG4gICQoXCIuY3J1bWJzX19jcnVtYlwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgJChlLnRhcmdldCkucGFyZW50cygnLmZpbHRlci10b3AnKS5sZW5ndGggJiYgKCQodGhpcykudG9nZ2xlQ2xhc3MoJ2NydW1ic19fY3J1bWItLWFjdGl2ZScpLCBmaWx0ZXJDb250ZW50QmxvY2soKSk7XG4gICAgJChlLnRhcmdldCkucGFyZW50cyhcIi5jcnVtYnNfX2NydW1iXCIpLnRvZ2dsZUNsYXNzKFwiY3J1bWJzX19jcnVtYi0tYWN0aXZlXCIpO1xuICAgICQoZS50YXJnZXQpLnBhcmVudHMoXCIuY3J1bWJzXCIpLmNoaWxkcmVuKFwiLmNydW1ic19fY3J1bWItLWFjdGl2ZVwiKS5sZW5ndGggPT09IDAgPyAkKGUudGFyZ2V0KS5wYXJlbnRzKFwiLmNydW1ic1wiKS5jaGlsZHJlbihcIi5jcnVtYnNfX2NsZWFyXCIpLnJlbW92ZUNsYXNzKFwiY3J1bWJzX19jbGVhci0tYWN0aXZlXCIpIDogJChlLnRhcmdldCkucGFyZW50cyhcIi5jcnVtYnNcIikuY2hpbGRyZW4oXCIuY3J1bWJzX19jbGVhclwiKS5hZGRDbGFzcyhcImNydW1ic19fY2xlYXItLWFjdGl2ZVwiKTtcbiAgfSk7XG4gICQoXCIuY3J1bWJzX19jbGVhclwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMpLnBhcmVudHMoXCIuY3J1bWJzXCIpLmNoaWxkcmVuKFwiLmNydW1ic19fY3J1bWJcIikucmVtb3ZlQ2xhc3MoXCJjcnVtYnNfX2NydW1iLS1hY3RpdmVcIik7XG4gICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcImNydW1ic19fY2xlYXItLWFjdGl2ZVwiKTtcbiAgICBmaWx0ZXJDb250ZW50QmxvY2soKTtcbiAgfSk7XG4gICQoJy5maWx0ZXItbGluaycpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAkKCcuZmlsdGVyLWxpbmstLWFjdGl2ZScpLnJlbW92ZUNsYXNzKCdmaWx0ZXItbGluay0tYWN0aXZlJyk7XG4gICAgJCh0aGlzKS5hZGRDbGFzcygnZmlsdGVyLWxpbmstLWFjdGl2ZScpO1xuICB9KTtcbiAgJCgnYm9keScpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIHNoYXJlID0gJChlLnRhcmdldCkuaGFzQ2xhc3MoJ3NoYXJlJykgJiYgJChlLnRhcmdldCkgfHwgJChlLnRhcmdldCkucGFyZW50cygnLnNoYXJlJykubGVuZ3RoICYmICQoJChlLnRhcmdldCkucGFyZW50cygnLnNoYXJlJylbMF0pIHx8IG51bGw7XG4gICAgc2hhcmUgJiYgc2hhcmUuZmluZCgnLmluZm9ybWF0aW9uLXNoYXJlJykudG9nZ2xlQ2xhc3MoJ2luZm9ybWF0aW9uLXNoYXJlLS1hY3RpdmUnKTtcbiAgICAkKGUudGFyZ2V0KS5oYXNDbGFzcygnYXZhdGFyc19fbW9yZScpICYmICQoZS50YXJnZXQpICYmICQoZS50YXJnZXQpLnRvZ2dsZUNsYXNzKCdhdmF0YXJzX19tb3JlLS1hY3RpdmUnKTtcbiAgICB2YXIgbW9yZUVsZW1lbnQgPSAkKGUudGFyZ2V0KS5oYXNDbGFzcygnYXZhdGFyc19fbW9yZS1lbGVtZW50JykgJiYgJChlLnRhcmdldCkgfHwgJChlLnRhcmdldCkucGFyZW50cygnLmF2YXRhcnNfX21vcmUtZWxlbWVudCcpLmxlbmd0aCAmJiAkKCQoZS50YXJnZXQpLnBhcmVudHMoJy5hdmF0YXJzX19tb3JlLWVsZW1lbnQnKVswXSkgfHwgbnVsbDtcbiAgICBtb3JlRWxlbWVudCAmJiAobW9yZUVsZW1lbnQudG9nZ2xlQ2xhc3MoJ2F2YXRhcnNfX21vcmUtZWxlbWVudC0tYWN0aXZlJyksIG1vcmVFbGVtZW50LmZpbmQoJy5hdmF0YXJzX19tb3JlLXRleHQnKS5zbGlkZVRvZ2dsZSg0MDApKTtcbiAgfSk7XG4gICQoJy5jb250ZW50X19tb3JlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICQoJy5jYXJkLS1oaWRkZW4nKS5yZW1vdmVDbGFzcygnY2FyZC0taGlkZGVuJyk7XG4gIH0pOyAvLyAkKCcuc2hhcmUnKS5vbignY2xpY2snLClcbiAgLy8gL2V2ZW50XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gdW5pcXVlIGZ1bmN0aW9uXG5cbiAgZnVuY3Rpb24gZmlsdGVyQ29udGVudEJsb2NrKCkge1xuICAgIHZhciBhcnJFbGVtZW50cyA9IFtdO1xuICAgICQoJy5jb250ZW50JykuZmFkZU91dCgxMDApO1xuICAgICQoJy5jcnVtYnNfX2NydW1iLS1hY3RpdmUnKS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkge1xuICAgICAgJCgnLmNvbnRlbnQnKS5lYWNoKGZ1bmN0aW9uIChpLCBlKSB7XG4gICAgICAgICQoZSkuZGF0YSgnbmFtZScpID09PSAkKGVsZW1lbnQpLmRhdGEoJ3RhZy1uYW1lJykgJiYgYXJyRWxlbWVudHMucHVzaChlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKGFyckVsZW1lbnRzKTtcbiAgICAkKGFyckVsZW1lbnRzKS5sZW5ndGggPyAkKGFyckVsZW1lbnRzKS5mYWRlSW4oMTAwKSA6ICQoJy5jb250ZW50JykuZmFkZUluKDEwMCk7XG4gIH0gLy8gL3VuaXF1ZSBmdW5jdGlvblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIFBhZ2UgbG9hZFxuXG5cbiAgJCh3aW5kb3cpLndpZHRoKCkgPD0gMTI3OSAmJiAkKCcuaGVhZGVyLW1vZGFsX19uYXYtZWxlbWVudCcpLmFwcGVuZFRvKCcubWVudV9fZGVza3RvcCcpO1xuICAkKHdpbmRvdykud2lkdGgoKSA8PSA3MDAgJiYgJCgnLm1lbnVfX2Rlc2t0b3AnKS5wcmVwZW5kKCQoJy5oZWFkZXItbW9kYWxfX2Fjb3VudCcpKTsgLy8g0JzQtdGF0LDQvdC40LrQsCDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutGA0L7RiNC60L7QuSDQtNCw0YLRiyDQvdCwINC/0LvQsNC90YjQtdGC0LDRhVxuXG4gICQod2luZG93KS53aWR0aCgpIDw9IDcwMCAmJiAkKCcuaGVhZGVyX19idXR0b24nKS5hcHBlbmRUbygnLm1lbnVfX2Rlc2t0b3AnKTtcblxuICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPD0gOTAwKSB7XG4gICAgJCgnLmNhcmQnKS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgaXRlbSkge1xuICAgICAgJChpdGVtKS5maW5kKCcuY2FyZF9faGVhZC1jcnVtYnMnKS5wcmVwZW5kKFwiPGRpdiBjbGFzcz1cXFwiY2FyZF9faGVhZC1pbmZvXFxcIj5cIi5jb25jYXQoJChpdGVtKS5maW5kKCcuY2FyZF9fZm9vdGVyIC5jYXJkX19kYXknKS50ZXh0KCksIFwiPC9kaXY+XCIpKTtcbiAgICB9KTtcbiAgfSAvLyAv0JzQtdGF0LDQvdC40LrQsCDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutGA0L7RiNC60L7QuSDQtNCw0YLRiyDQvdCwINC/0LvQsNC90YjQtdGC0LDRhVxuICAvLyAvUGFnZSBsb2FkXG5cbn0pOyJdfQ==
